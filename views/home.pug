extends layout
block content
  h1(style="text-align:center;") Fake News Repo
  hr
  .row
    h2.col-xs-12.col-md-12 Share Your Post
    div.col-xs-12.col-md-8(style="margin-top:1rem;")
      form.postForm
        div.form-group
          label Post Url:
          span.compulsory * 
          input.form-control.fill-post(type = "text" placeholder="URL" )
        div.form-group
          label Select Community:
          span.compulsory * 
          select.form-control.communities(required=required)
            option(value = "" hidden) Community
            option(value = "tech") Tech
            option(value = "politics") Politics
            option(value = "world") World
            option(value = "currentAffairs") Current Affairs
        button.btn.btn-primary(style="border-radius:0.25rem;background-color:#2577fb;border-color:#0461f7;") Submit
  .row(style="margin-top:15px; text-align: center;padding:30px;padding-right:5px;padding-left:5px;")
    h2.col-xs-12.col-md-12(style="margin-top:1rem;text-align:left;") Latest Posts
    .card-columns.col-md-12(style="margin-top:1rem;")
      each post in posts
        .card(style="padding:5px;border:solid black 1px")
          .postTextdiv(style='text-align:justify;padding:10px;font-size:16px;overflow-wrap: break-word;')
            | #{post.postText}
          if post.media
            .card-block.mediaPreview(style="border:solid grey 1px")
              .mediadiv
                a.urlTitle(href=post.url target="_blank" style="font-size:16px") #{post.linkTitle} :
                span(style="font-size:12px;text-align:left") #{post.linkDescription}
                if post.videoFlag
                  .iframeDiv
                    iframe(src=post.videoObj.src)
                if post.imageFlag
                  .imageDiv
                    img(src=post.imageSrc style="width:300px")
          .reactionBlock(style="bottom:0px;margin-top:10px;margin-left:2px;position:relative")
            .reactionOption
              .likeDiv(style="background-color: grey;max-height:25px;max-width:45px;display:inline;float:left;padding:2px;border:solid 1px;border-radius:12px")
                if post.likeFlag
                  i.far.fa-clickable.fa-thumbs-up.ab(style="float:left;color:#dbdbef;margin-top:2px;" data-id=post._id)
                else
                  i.far.fa-clickable.fa-thumbs-up.ba(style="float:left;margin-top:2px;" data-id=post._id)
                span.likeCount(style="float:left") #{post.likes}
              .dislikeDiv(style="max-height:25px;max-width:45px;display:inline;float:left;padding:2px")
                span.dislikeCount(style="float:right") #{post.dislikes}
                if post.dislikeFlag
                  i.far.fa-clickable.fa-thumbs-down(style="float:left;color:red;margin-top:2px;" data-id=post._id)
                else
                  i.far.fa-clickable.fa-thumbs-down(style="float:left;margin-top:2px;" data-id=post._id)
              .commentDiv
                i.fa.fa-comments-o